version: 2
models:
  - name: silver_polymarket__hourly_ohlc
    description: This table contains hourly OHLC (Open, High, Low, Close) price data for prediction market orders, aggregated by hour, question, outcome, and question_id. It includes event metadata from the dim_markets table.

    columns:
      - name: HOUR
        description: "The hourly time bucket for the aggregation, truncated to the start of the hour."
        tests:
          - not_null
      - name: OUTCOME
        description: "The specific result direction for a token within the market, typically indicating either 'yes' or 'no.'"
        tests:
          - not_null
      - name: QUESTION
        description: "The human-readable question that defines the market. This question outlines the specific event or scenario that the market is based on."
        tests:
          - not_null
      - name: QUESTION_ID
        description: "The unique identifier for the question in the prediction market."
        tests:
          - not_null
      - name: OPEN_PRICE
        description: "The opening price per share for the hour, calculated as the price_per_share of the first order in the hour, multiplied by 100 to convert to percentage."
      - name: HIGH_PRICE
        description: "The highest price per share during the hour, calculated as the maximum price_per_share in the hour, multiplied by 100 to convert to percentage."
      - name: LOW_PRICE
        description: "The lowest price per share during the hour, calculated as the minimum price_per_share in the hour, multiplied by 100 to convert to percentage."
      - name: CLOSE_PRICE
        description: "The closing price per share for the hour, calculated as the price_per_share of the last order in the hour, multiplied by 100 to convert to percentage."
      - name: TOTAL_ORDERS
        description: "The total number of orders in the hour."
      - name: AMOUNT_USD
        description: "The total USD value of all orders in the hour."
      - name: AVG_ORDER_SIZE
        description: "The average USD value per order in the hour, calculated as amount_usd / total_orders."
      - name: EVENT_TITLE
        description: "The title of the event associated with the market, from the dim_markets table."
      - name: DESCRIPTION
        description: "A detailed description of the market, providing context and additional information about the question, from the dim_markets table."
      - name: CONDITION_ID
        description: "ID of the specific market, linking it to the event or question it is based on, from the dim_markets table."
      - name: EVENT_ID
        description: "The unique identifier for the event, from the dim_markets table."
      - name: EVENT_SLUG
        description: "The URL-friendly identifier for the event, from the dim_markets table."
      - name: EZ_MARKET_OHLC_ID
        description: "The unique identifier for the prediction market OHLC record."
        tests:
          - not_null
          - unique
      - name: INSERTED_TIMESTAMP
        description: "The timestamp when the record was inserted."
      - name: MODIFIED_TIMESTAMP
        description: "The timestamp when the record was last modified."
